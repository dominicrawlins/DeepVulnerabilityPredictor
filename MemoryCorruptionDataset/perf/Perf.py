import subprocess, sys

class Perf:
    def __init__(self):
        pass


    def stat(self, command):
        output =(subprocess.check_output(['perf', 'stat', '--log-fd', '1'] + command)).decode().split("\n")
        output = list(filter(lambda x: x, (list(map(lambda x: x.strip(), output)))))[1:]
        print(output)
        return output

    #maybe add record and report



p = Perf()
comm = ['/usr/bin/whoami']
p.stat(comm)


#https://jvns.ca/perf-cheat-sheet.pdf could be useful
